---
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { getEntry } from 'astro:content';

const homepageContent = await getEntry('homepage', 'main');
const { hero, quickInfo, callToAction } = homepageContent.data;
const sortedQuickInfo = quickInfo.sort((a, b) => a.order - b.order);
---
<BaseLayout title="Willkommen | Stamm Phoenix" description="DPSG Stamm Phoenix Feldkirchen-Westerham â€“ Pfadfinden vor Ort.">
  <svelte:fragment slot="header"><Header /></svelte:fragment>

  <!-- Skip to content -->
  <a href="#main-content" class="sr-only focus:not-sr-only focus:fixed focus:top-2 focus:left-2 focus:bg-white focus:text-black focus:p-2 focus:rounded focus:shadow">
    Zum Inhalt springen
  </a>

  <!-- Hero -->
  <section id="main-content" class="overflow-visible rounded-lg bg-gradient-phoenix p-6 md:p-10 shadow-lift text-white" aria-labelledby="page-title">
    <div class="z-10 max-w-3xl">
      <h1 id="page-title" class="text-3xl md:text-5xl font-serif font-extrabold leading-tight">{hero.title}</h1>
      <p class="mt-4 text-base md:text-lg text-white/90">
        {hero.subtitle}
      </p>
      <p class="mt-4 text-base md:text-lg text-white/90">
        {hero.description}
      </p>
      <div class="mt-6 flex flex-wrap gap-3">
        <a href={hero.primaryButtonLink} class="inline-flex items-center rounded-md bg-white px-4 py-2 text-sm font-semibold text-brand-800 shadow hover:shadow-md">
          {hero.primaryButtonText}
        </a>
        <a href={hero.secondaryButtonLink} class="inline-flex items-center rounded-md bg-white/10 px-4 py-2 text-sm font-semibold text-white ring-1 ring-inset ring-white/40 hover:bg-white/15">
          {hero.secondaryButtonText}
        </a>
      </div>
    </div>
    <div class="pointer-events-none absolute -right-24 -top-24 size-64 rounded-full bg-white/10 blur-3xl" aria-hidden="true"></div>
  </section>

  <!-- Quick info -->
  <section class="mt-10 grid gap-6 md:grid-cols-3" aria-labelledby="quick-info-heading">
    <h2 id="quick-info-heading" class="sr-only">Schnellinfo</h2>
    {sortedQuickInfo.map((info) => (
      <article class="card">
        <h3 class="text-lg font-semibold">{info.title}</h3>
        <p class="mt-2 text-sm text-neutral-700">{info.description}</p>
      </article>
    ))}
  </section>

  <!-- Mach mit! -->
  <section class="mt-10 rounded-lg bg-gradient-phoenix p-6 md:p-10 shadow-lift text-white" aria-labelledby="join-title">
    <div class="max-w-3xl">
      <h2 id="join-title" class="text-2xl md:text-3xl font-serif font-bold">{callToAction.title}</h2>
      <p class="mt-4 text-base md:text-lg text-white/90">
        {callToAction.description}
      </p>
      <div class="mt-6">
        <a href={callToAction.buttonLink} class="inline-flex items-center rounded-md bg-white px-4 py-2 text-sm font-semibold text-brand-800 shadow hover:shadow-md">
          {callToAction.buttonText}
        </a>
      </div>
    </div>
  </section>

  <svelte:fragment slot="footer"><Footer /></svelte:fragment>
</BaseLayout>

