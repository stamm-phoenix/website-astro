---
import BaseLayout from '../../../layouts/BaseLayout.astro';
import Header from '../../../components/Header.astro';
import Footer from '../../../components/Footer.astro';
import PageHeader from '../../../components/PageHeader.astro';
import Card from '../../../components/Card.astro';
import Heading from '../../../components/Heading.astro';
import Text from '../../../components/Text.astro';
import TextLink from '../../../components/TextLink.astro';
import AktionAnmeldung from '../../../components/AktionAnmeldung.svelte';
import aktionenData from '../../../data/aktionen.json';

export function getStaticPaths() {
  return aktionenData
    .filter((aktion) => aktion.campflow_link)
    .map((aktion) => ({
      params: { uid: aktion.id },
    }));
}
---

<BaseLayout title="Anmeldung | Stamm Phoenix" description="Anmeldung zur Aktion des DPSG Stamm Phoenix.">
  <Header slot="header" />

  <PageHeader title="Anmeldung">
    <TextLink href="/aktionen" variant="back" class="mb-4">&larr; ZurÃ¼ck zum Kalender</TextLink>
  </PageHeader>

  <AktionAnmeldung client:only="svelte" />

  <Card class="mt-8 bg-gradient-to-r from-[var(--color-brand-50)] to-white border-2 border-[var(--color-brand-200)]">
    <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
      <div>
        <Heading level={2} variant="card">Fragen zur Anmeldung?</Heading>
        <Text class="mt-1">
          Bei Fragen oder Problemen mit der Anmeldung kannst du uns jederzeit kontaktieren.
        </Text>
      </div>
      <a
        href="mailto:kontakt@stamm-phoenix.de?subject=Frage zur Anmeldung"
        class="inline-flex items-center gap-2 px-5 py-2.5 rounded-full bg-[var(--color-dpsg-red)] text-white font-semibold shadow-soft hover:shadow-lift hover:-translate-y-0.5 transition-all duration-200 whitespace-nowrap"
      >
        E-Mail schreiben
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
        </svg>
      </a>
    </div>
  </Card>

  <Footer slot="footer" />
</BaseLayout>
