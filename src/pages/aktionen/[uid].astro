// src/pages/aktionen/[uid].astro
import BaseLayout from '../../layouts/BaseLayout.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';
import aktionenData from '../../data/aktionen.json';

export type IcsEvent = {
    uid?: string;
    start?: Date;
    end?: Date;
    allDay?: boolean;
    summary?: string;
    location?: string;
    description?: string;
    url?: string;
};

export async function getStaticPaths() {
  const events: IcsEvent[] = aktionenData.map(event => ({
    ...event,
    start: event.start ? new Date(event.start as string) : undefined,
    end: event.end ? new Date(event.end as string) : undefined,
  }));

  return events.map((event) => ({
    params: { uid: event.uid },
    props: { event },
  }));
}

const { event } = Astro.props;
---

<BaseLayout title="Minimal Test" description="Minimal Test">
  <Header slot="header" />
</BaseLayout>